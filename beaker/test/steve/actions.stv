Port p1 = ":5000";

layout eth
{
	src : uint(48);
	dst : uint(48);
	type : uint(16);
}

decoder start eth_d(eth)
{
	extract eth::dst;
	extract eth::src;
  extract eth::type;
	set eth::type = eth::type + 80;
  // set eth::type = 800;
	// clear;
  // copy eth::type = eth::src;
  // write drop;
  // write output p1;
  // write set eth::type = 0x800;
  // write copy eth::type = eth::src;

	// broken case
	// add {true} -> { drop; } into t1;

	drop;
}


exact_table t1(eth::src)
{
	miss ->
	{
		add {1} -> { drop; } into t1;
		output p1;
	}
}
