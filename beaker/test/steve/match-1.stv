foreign def puts(char[]) -> int;

layout eth
{
  src : uint(48);
  dst : uint(48);
  type : uint(16);
}

Port p1 = ":5000";

decoder start eth_d(eth)
{
  extract eth.type;
  match(eth.type) {
    case 0x0800: puts("Got ipv4");
    case 0x0880: puts("Got ipv6");
		miss: puts("No match");
  }

  puts("Performing decode and routing.");

  drop;
}
